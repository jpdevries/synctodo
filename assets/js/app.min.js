!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";var d=c(1);document.addEventListener("DOMContentLoaded",function(){new d.ToDo;document.querySelector("html").classList.add("react")})},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=(c(2),c(3)),j=c(4),k=d(j),l=c(5),m=c(6),n=c(10),o=c(20),p=c(25),q=function(){switch(n.getState().viewProps.initialView){case"archive":n.dispatch(m.fetchToDoList());break;case"home":default:n.dispatch(m.fetchArchiveList())}var a=(0,i.connect)(function(a,b){return{tasks:a.tasks,archivedTasks:a.archivedTasks,viewProps:a.viewProps}})(o),b=(0,i.connect)(function(a,b){return{tasks:a.archivedTasks,viewProps:a.viewProps}})(p),c=function(c){function d(){return e(this,d),f(this,Object.getPrototypeOf(d).apply(this,arguments))}return g(d,c),h(d,[{key:"render",value:function(){return k.default.createElement(l.Router,{history:l.browserHistory},k.default.createElement(l.Route,{path:"/",component:a}),k.default.createElement(l.Route,{path:"/archive",component:b}))}}]),d}(j.Component);ReactDOM.render(k.default.createElement(i.Provider,{store:n},k.default.createElement(c,null)),document.getElementById("task-list"))};b.ToDo=q},function(a,b){a.exports=Redux},function(a,b){a.exports=ReactRedux},function(a,b){a.exports=React},function(a,b){a.exports=ReactRouter},function(a,b,c){"use strict";c(7);var d=c(9),e="add_task_success",f="add_task_error",g=function(a){return{type:e,task:a}},h=function(a){return{type:f,task:a}},i=function(a){return function(b){return fetch(d.API_ADD_TASK,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(Object.assign({},a,{"new-item":a.title}))}).then(function(a){if(a.state<200||a.state>=300){var b=new Error(a.statusText);throw b.response=a,b}return a}).then(function(a){return a.json()}).then(function(a){return b(g(a.task))}).catch(function(c){return b(h(a))})}};b.ADD_TASK_SUCCESS=e,b.addTaskSuccess=g,b.ADD_TASK_ERROR=f,b.addTaskError=h,b.addTask=i;var j="toggle_tasks_completion_success",k="toggle_tasks_completion_error",l=function(a,b){return{type:j,tasks:a,completed:b}},m=function(a,b){return{type:k,tasks:a,completed:b}},n=function(a,b){return function(c){return fetch(d.API_TASKS,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({action:"complete",completed:b,tasks:a})}).then(function(a){if(a.state<200||a.state>=300){var b=new Error(a.statusText);throw b.response=a,b}return a}).then(function(a){return a.json()}).then(function(d){return c(l(a,b))}).catch(function(d){return c(m(a,b))})}};b.TOGGLE_TASKS_COMPLETION_SUCCESS=j,b.toggleTasksCompletionSuccess=l,b.TOGGLE_TASKS_COMPLETION_ERROR=k,b.toggleTasksCompletionError=m,b.toggleTasksCompletion=n;var o="delete_tasks_success",p="delete_tasks_error",q=function(a){return{type:o,tasks:a}},r=function(a){return{type:p,tasks:a}},s=function(a){return function(b){return fetch(d.API_DELETE_TASKS,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({tasks:a})}).then(function(a){if(a.state<200||a.state>=300){var b=new Error(a.statusText);throw b.response=a,b}return a}).then(function(a){return a.json()}).then(function(c){return b(q(a))}).catch(function(c){return b(r(a))})}};b.DELETE_TASKS_SUCCESS=o,b.deleteTasksSuccess=q,b.DELETE_TASKS_ERROR=p,b.deleteTasksError=r,b.deleteTasks=s;var t="archive_tasks_success",u="archive_tasks_error",v=function(a,b,c){return{type:t,tasks:a,archive:b,taskData:c}},w=function(a,b,c){return{type:u,tasks:a,archive:b,taskData:c}},x=function(a){var b=arguments.length<=1||void 0===arguments[1]||arguments[1],c=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];return function(e){return fetch(d.API_ARCHIVE_TASKS,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({action:b?"archive":"unarchive",tasks:a})}).then(function(a){if(a.state<200||a.state>=300){var b=new Error(a.statusText);throw b.response=a,b}return a}).then(function(a){return a.json()}).then(function(d){return e(v(a,b,c))}).catch(function(d){return e(w(a,b,c))})}};b.ARCHIVE_TASKS_SUCCESS=t,b.archiveTasksSuccess=v,b.ARCHIVE_TASKS_ERROR=u,b.archiveTasksError=w,b.archiveTasks=x;var y="fetch_archive_list_success",z="fetch_archive_list_error",A=function(a){return{type:y,tasks:a}},B=function(){return{type:z}},C=function(){return function(a){return fetch(d.API_ARCHIVE,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(a){if(a.state<200||a.state>=300){var b=new Error(a.statusText);throw b.response=a,b}return a}).then(function(a){return a.json()}).then(function(b){return a(A(b.tasks))}).catch(function(b){return a(B())})}};b.FETCH_ARCHIVE_LIST_SUCCESS=y,b.fetchArchiveListSuccess=A,b.FETCH_ARCHIVE_LIST_ERROR=z,b.fetchArchiveListError=B,b.fetchArchiveList=C;var D="fetch_todos_success",E="fetch_todos_error",F=function(a){return{type:D,tasks:a}},G=function(){return{type:E}},H=function(){return function(a){return fetch(d.API_TODOS,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(a){if(a.state<200||a.state>=300){var b=new Error(a.statusText);throw b.response=a,b}return a}).then(function(a){return a.json()}).then(function(b){return a(F(b.tasks))}).catch(function(b){return a(G())})}};b.FETCH_TODOS_SUCCESS=D,b.fetchToDoSuccess=F,b.FETCH_TODOS_ERROR=E,b.fetchToDoError=G,b.fetchToDoList=H;var I="toggle_archived_tasks_selected",J=function(a,b){return{type:I,tasks:a,selected:b}};b.TOGGLE_ARCHIVED_TASKS_SELECTED=I,b.toggleArchivedTasksSelected=J;var K="move_tasks_to_archive",L=function(a){return{type:K,tasks:a,archive:!0}};b.MOVE_TASKS_TO_ARCHIVE=K,b.moveTasksToArchive=L;var M="move_tasks_from_archive",N=function(a){return{type:M,tasks:a,archive:!1}};b.MOVE_TASKS_FROM_ARCHIVE=M,b.moveTasksFromArchive=N,b.ADDTASK="add-task",b.DELETETASKS="delete-tasks",b.ARCHIVETASKS="archive-tasks",b.UNARCHIVETASKS="unarchive-tasks"},function(a,b,c){c(8),a.exports=self.fetch.bind(self)},function(a,b){!function(a){"use strict";function b(a){if("string"!=typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function c(a){return"string"!=typeof a&&(a=String(a)),a}function d(a){var b={next:function(){var b=a.shift();return{done:void 0===b,value:b}}};return p.iterable&&(b[Symbol.iterator]=function(){return b}),b}function e(a){this.map={},a instanceof e?a.forEach(function(a,b){this.append(b,a)},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function f(a){return a.bodyUsed?Promise.reject(new TypeError("Already read")):void(a.bodyUsed=!0)}function g(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function h(a){var b=new FileReader;return b.readAsArrayBuffer(a),g(b)}function i(a){var b=new FileReader;return b.readAsText(a),g(b)}function j(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a,"string"==typeof a)this._bodyText=a;else if(p.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(p.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(p.searchParams&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else if(a){if(!p.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(a))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob?(this.blob=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(h)},this.text=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return i(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var a=f(this);return a?a:Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function k(a){var b=a.toUpperCase();return q.indexOf(b)>-1?b:a}function l(a,b){b=b||{};var c=b.body;if(l.prototype.isPrototypeOf(a)){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new e(a.headers)),this.method=a.method,this.mode=a.mode,c||(c=a._bodyInit,a.bodyUsed=!0)}else this.url=a;if(this.credentials=b.credentials||this.credentials||"omit",!b.headers&&this.headers||(this.headers=new e(b.headers)),this.method=k(b.method||this.method||"GET"),this.mode=b.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&c)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(c)}function m(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function n(a){var b=new e,c=(a.getAllResponseHeaders()||"").trim().split("\n");return c.forEach(function(a){var c=a.trim().split(":"),d=c.shift().trim(),e=c.join(":").trim();b.append(d,e)}),b}function o(a,b){b||(b={}),this.type="default",this.status=b.status,this.ok=this.status>=200&&this.status<300,this.statusText=b.statusText,this.headers=b.headers instanceof e?b.headers:new e(b.headers),this.url=b.url||"",this._initBody(a)}if(!a.fetch){var p={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};e.prototype.append=function(a,d){a=b(a),d=c(d);var e=this.map[a];e||(e=[],this.map[a]=e),e.push(d)},e.prototype.delete=function(a){delete this.map[b(a)]},e.prototype.get=function(a){var c=this.map[b(a)];return c?c[0]:null},e.prototype.getAll=function(a){return this.map[b(a)]||[]},e.prototype.has=function(a){return this.map.hasOwnProperty(b(a))},e.prototype.set=function(a,d){this.map[b(a)]=[c(d)]},e.prototype.forEach=function(a,b){Object.getOwnPropertyNames(this.map).forEach(function(c){this.map[c].forEach(function(d){a.call(b,d,c,this)},this)},this)},e.prototype.keys=function(){var a=[];return this.forEach(function(b,c){a.push(c)}),d(a)},e.prototype.values=function(){var a=[];return this.forEach(function(b){a.push(b)}),d(a)},e.prototype.entries=function(){var a=[];return this.forEach(function(b,c){a.push([c,b])}),d(a)},p.iterable&&(e.prototype[Symbol.iterator]=e.prototype.entries);var q=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this)},j.call(l.prototype),j.call(o.prototype),o.prototype.clone=function(){return new o(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new e(this.headers),url:this.url})},o.error=function(){var a=new o(null,{status:0,statusText:""});return a.type="error",a};var r=[301,302,303,307,308];o.redirect=function(a,b){if(r.indexOf(b)===-1)throw new RangeError("Invalid status code");return new o(null,{status:b,headers:{location:a}})},a.Headers=e,a.Request=l,a.Response=o,a.fetch=function(a,b){return new Promise(function(c,d){function e(){return"responseURL"in g?g.responseURL:/^X-Request-URL:/m.test(g.getAllResponseHeaders())?g.getResponseHeader("X-Request-URL"):void 0}var f;f=l.prototype.isPrototypeOf(a)&&!b?a:new l(a,b);var g=new XMLHttpRequest;g.onload=function(){var a={status:g.status,statusText:g.statusText,headers:n(g),url:e()},b="response"in g?g.response:g.responseText;c(new o(b,a))},g.onerror=function(){d(new TypeError("Network request failed"))},g.ontimeout=function(){d(new TypeError("Network request failed"))},g.open(f.method,f.url,!0),"include"===f.credentials&&(g.withCredentials=!0),"responseType"in g&&p.blob&&(g.responseType="blob"),f.headers.forEach(function(a,b){g.setRequestHeader(b,a)}),g.send("undefined"==typeof f._bodyInit?null:f._bodyInit)})},a.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(a,b){"use strict";var c="/",d="/",e="/delete/tasks/",f="/archive/",g=f,h="/api/tasks/",i=h,j=h,k=h,l="/api/archive/",m="/api/todos/";a.exports={ADD_TASK:c,UPDATE_TASKS:d,DELETE_TASKS:e,ARCHIVE_COMPLETED_TASKS:g,ARCHIVED_TASKS:f,API_TASKS:h,API_ADD_TASK:i,API_DELETE_TASKS:j,API_ARCHIVE_TASKS:k,API_ARCHIVE:l,API_TODOS:m}},function(a,b,c){"use strict";var d=c(2),e=d.createStore,f=d.applyMiddleware,g=c(11).default,h=c(12),i=e(h.todoReducer,f(g));a.exports=i},function(a,b){"use strict";function c(a){return function(b){var c=b.dispatch,d=b.getState;return function(b){return function(e){return"function"==typeof e?e(c,d,a):b(e)}}}}b.__esModule=!0;var d=c();d.withExtraArgument=c,b.default=d},function(a,b,c){"use strict";function d(){var a=arguments.length<=0||void 0===arguments[0]?".tasks > li":arguments[0],b=[];try{for(var c=document.querySelectorAll(a),d=0;d<c.length;d++){var e=c[d],f=e.querySelector(".title").innerHTML,g=e.querySelector('input[type="checkbox"]').checked,h=parseInt(e.getAttribute("data-id")),i="true"==e.getAttribute("data-archived"),j={id:h,key:h,title:f,completed:g,archived:i};b.push(j)}}catch(a){}return b}var e=c(6),f=c(2).combineReducers,g=c(13),h=d(),i=d(".archived.tasks > li"),j=function(){try{return{initialView:document.body.getAttribute("init-view")||"home",staleTime:document.body.getAttribute("stale-time")?parseInt(document.body.getAttribute("stale-time")):15e3}}catch(a){return{}}}(),k=function(a,b){switch(a=a||h,b.type){case e.ADD_TASK_SUCCESS:return g(a,{$push:[Object.assign({},b.task,{key:b.task.id,completed:!!b.task.completed,archived:!!b.task.archived})]});case e.TOGGLE_TASKS_COMPLETION_SUCCESS:return a.map(function(a,c){return b.tasks.includes(a.id)?Object.assign({},a,{completed:b.completed}):a});case e.DELETE_TASKS_SUCCESS:return a.filter(function(a,c){return!b.tasks.includes(a.id)});case e.ARCHIVE_TASKS_SUCCESS:case e.MOVE_TASKS_TO_ARCHIVE:return b.archive?a.filter(function(a,c){return!b.tasks.includes(a.id)}):g(a,{$push:b.taskData.filter(function(b){for(var c=!1,d=a.length,e=0;e<d;e++)if(a[e].id==b.id){c=!0;break}return!c}).map(function(a){return Object.assign({},a,{archived:!1})})});case e.FETCH_TODOS_SUCCESS:return g(a,{$set:b.tasks.map(function(a){return Object.assign({},{key:a.id},a)})});case e.MOVE_TASKS_FROM_ARCHIVE:var c=g(a,{$push:b.tasks.map(function(a){return Object.assign({},a,{key:a.id,archived:!1,completed:!!a.completed})})});return c}return a},l=function(a,b){return a=a||j},m=function(a,b){switch(a=a||i,b.type){case e.FETCH_ARCHIVE_LIST_SUCCESS:return g(a,{$set:b.tasks.map(function(a){return Object.assign({},{key:a.id},a)})});case e.TOGGLE_ARCHIVED_TASKS_SELECTED:return a.map(function(a){return b.tasks.includes(a.id)?Object.assign({},a,{completed:b.selected}):a});case e.MOVE_TASKS_TO_ARCHIVE:return g(a,{$push:b.tasks});case e.DELETE_TASKS_SUCCESS:return a.filter(function(a,c){return!b.tasks.includes(a.id)});case e.MOVE_TASKS_FROM_ARCHIVE:return a.filter(function(a){return!b.tasks.includes(a)})}return a},n=f({tasks:k,archivedTasks:m,viewProps:l});b.todoReducer=n},function(a,b,c){a.exports=c(14)},function(a,b,c){(function(b){"use strict";function d(a){return Array.isArray(a)?a.concat():a&&"object"==typeof a?h(new a.constructor,a):a}function e(a,c,d){Array.isArray(a)?void 0:"production"!==b.env.NODE_ENV?j(!1,"update(): expected target of %s to be an array; got %s.",d,a):g("1",d,a);var e=c[d];Array.isArray(e)?void 0:"production"!==b.env.NODE_ENV?j(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",d,e):g("2",d,e)}function f(a,c){if("object"!=typeof c?"production"!==b.env.NODE_ENV?j(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",r.join(", "),o):g("3",r.join(", "),o):void 0,k.call(c,o))return 1!==Object.keys(c).length?"production"!==b.env.NODE_ENV?j(!1,"Cannot have more than one key in an object with %s",o):g("4",o):void 0,c[o];var i=d(a);if(k.call(c,p)){var t=c[p];t&&"object"==typeof t?void 0:"production"!==b.env.NODE_ENV?j(!1,"update(): %s expects a spec of type 'object'; got %s",p,t):g("5",p,t),i&&"object"==typeof i?void 0:"production"!==b.env.NODE_ENV?j(!1,"update(): %s expects a target of type 'object'; got %s",p,i):g("6",p,i),h(i,c[p])}k.call(c,l)&&(e(a,c,l),c[l].forEach(function(a){i.push(a)})),k.call(c,m)&&(e(a,c,m),c[m].forEach(function(a){i.unshift(a)})),k.call(c,n)&&(Array.isArray(a)?void 0:"production"!==b.env.NODE_ENV?j(!1,"Expected %s target to be an array; got %s",n,a):g("7",n,a),Array.isArray(c[n])?void 0:"production"!==b.env.NODE_ENV?j(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",n,c[n]):g("8",n,c[n]),c[n].forEach(function(a){Array.isArray(a)?void 0:"production"!==b.env.NODE_ENV?j(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",n,c[n]):g("8",n,c[n]),i.splice.apply(i,a)})),k.call(c,q)&&("function"!=typeof c[q]?"production"!==b.env.NODE_ENV?j(!1,"update(): expected spec of %s to be a function; got %s.",q,c[q]):g("9",q,c[q]):void 0,i=c[q](i));for(var u in c)s.hasOwnProperty(u)&&s[u]||(i[u]=f(a[u],c[u]));return i}var g=c(16),h=c(17),i=c(18),j=c(19),k={}.hasOwnProperty,l=i({$push:null}),m=i({$unshift:null}),n=i({$splice:null}),o=i({$set:null}),p=i({$merge:null}),q=i({$apply:null}),r=[l,m,n,o,p,q],s={};r.forEach(function(a){s[a]=!0}),a.exports=f}).call(b,c(15))},function(a,b){function c(a){return i===setTimeout?setTimeout(a,0):i.call(null,a,0)}function d(a){j===clearTimeout?clearTimeout(a):j.call(null,a)}function e(){n&&l&&(n=!1,l.length?m=l.concat(m):o=-1,m.length&&f())}function f(){if(!n){var a=c(e);n=!0;for(var b=m.length;b;){for(l=m,m=[];++o<b;)l&&l[o].run();o=-1,b=m.length}l=null,n=!1,d(a)}}function g(a,b){this.fun=a,this.array=b}function h(){}var i,j,k=a.exports={};!function(){try{i=setTimeout}catch(a){i=function(){throw new Error("setTimeout is not defined")}}try{j=clearTimeout}catch(a){j=function(){throw new Error("clearTimeout is not defined")}}}();var l,m=[],n=!1,o=-1;k.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var d=1;d<arguments.length;d++)b[d-1]=arguments[d];m.push(new g(a,b)),1!==m.length||n||c(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},k.title="browser",k.browser=!0,k.env={},k.argv=[],k.version="",k.versions={},k.on=h,k.addListener=h,k.once=h,k.off=h,k.removeListener=h,k.removeAllListeners=h,k.emit=h,k.binding=function(a){throw new Error("process.binding is not supported")},k.cwd=function(){return"/"},k.chdir=function(a){throw new Error("process.chdir is not supported")},k.umask=function(){return 0}},function(a,b){"use strict";function c(a){for(var b=arguments.length-1,c="Minified React error #"+a+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+a,d=0;d<b;d++)c+="&args[]="+encodeURIComponent(arguments[d+1]);c+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var e=new Error(c);throw e.name="Invariant Violation",e.framesToPop=1,e}a.exports=c},function(a,b){"use strict";function c(a){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function d(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},c=0;c<10;c++)b["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(b).map(function(a){return b[a]});if("0123456789"!==d.join(""))return!1;var e={};return"abcdefghijklmnopqrst".split("").forEach(function(a){e[a]=a}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},e)).join("")}catch(a){return!1}}var e=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;a.exports=d()?Object.assign:function(a,b){for(var d,g,h=c(a),i=1;i<arguments.length;i++){d=Object(arguments[i]);for(var j in d)e.call(d,j)&&(h[j]=d[j]);if(Object.getOwnPropertySymbols){g=Object.getOwnPropertySymbols(d);for(var k=0;k<g.length;k++)f.call(d,g[k])&&(h[g[k]]=d[g[k]])}}return h}},function(a,b){"use strict";var c=function(a){var b;for(b in a)if(a.hasOwnProperty(b))return b;return null};a.exports=c},function(a,b,c){(function(b){"use strict";function c(a,c,d,e,f,g,h,i){if("production"!==b.env.NODE_ENV&&void 0===c)throw new Error("invariant requires an error message argument");if(!a){var j;if(void 0===c)j=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var k=[d,e,f,g,h,i],l=0;j=new Error(c.replace(/%s/g,function(){return k[l++]})),j.name="Invariant Violation"}throw j.framesToPop=1,j}}a.exports=c}).call(b,c(15))},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(5);if(!i)var i=c(4);var j=c(10),k=c(6),l=c(9),m=c(21),n=c(23),o=c(24),p=c(22),q=function(a){function b(a){d(this,b);var c=e(this,Object.getPrototypeOf(b).call(this,a));return c.state={newTask:"",action:k.ADDTASK},c}return f(b,a),g(b,[{key:"getInitialProps",value:function(){return{showResetSave:!1,hideArchived:!0}}},{key:"fetchData",value:function(){j.dispatch(k.fetchToDoList())}},{key:"componentWillMount",value:function(){if(!p.serverSideRendering)try{performance.now()>j.getState().viewProps.staleTime&&this.fetchData()}catch(a){}}},{key:"componentDidMount",value:function(){try{ReactDOM.findDOMNode(this.refs.newItem).focus()}catch(a){}}},{key:"getCompletedTasks",value:function(){return this.props.tasks.filter(function(a,b){return a.completed})}},{key:"getUncompletedTasks",value:function(){return this.props.tasks.filter(function(a,b){return!a.completed})}},{key:"getCompletedTaskIds",value:function(){var a=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];return(a||getUncompletedTasks()).map(function(a){return a.id})}},{key:"getUncompletedTaskIds",value:function(){var a=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];return(a||getUncompletedTasks()).map(function(a){return a.id})}},{key:"render",value:function(){var a=this,b=this.props,c=b.tasks,d=this.state,e=b.hideArchived;e&&(c=c.filter(function(a){return a.archived?void 0:a}));var f=this.getCompletedTasks(),g=this.getUncompletedTasks(),q=this.getCompletedTaskIds(f),r=(this.getUncompletedTaskIds(g),!!c.length&&i.createElement("div",null,i.createElement("hr",null),i.createElement("p",{className:"accessibly-hidden"},"You have ",c.length," ","thing"+(c.length>1?"s":"")," to do."),i.createElement("p",{className:"accessibly-hidden"},"Check tasks below to archive or delete them."))),s=!!b.showResetSave&&i.createElement("div",null,i.createElement("button",{type:"reset"},"Reset"),i.createElement("button",{type:"submit"},"Save")),t=c.map(function(a,b){return i.createElement(m,{task:a,key:a.id,onChange:function(b){j.dispatch(k.toggleTasksCompletion([a.id],b.target.checked))}})}),u=!!c.length&&i.createElement("footer",null,s,i.createElement(n,{disabled:!p.serverSideRendering&&!f.length,text:f.length>1?"Archive Completed Tasks":"Archive Completed Task",onClick:function(b){a.setState({action:k.ARCHIVETASKS})}}),i.createElement(o,{disabled:!p.serverSideRendering&&!f.length,text:f.length>1?"Delete Completed Tasks":"Delete Completed Task",onClick:function(b){a.setState({action:k.DELETETASKS})}})),v=p.serverSideRendering?i.createElement("a",{href:"/archive",className:"btn"},"Load archived tasks"):i.createElement(h.Link,{to:"/archive",className:"btn"},"Load archived tasks"),w=!!b.archivedTasks.length&&i.createElement("p",{className:"balanced view-all"},v,".");return i.createElement("main",{id:"task-list",className:"shell shell-task-list"},i.createElement("div",{className:"balanced"},i.createElement("form",{action:"/",method:"post",id:"todo",className:"box",onSubmit:function(b){switch(b.preventDefault(),a.state.action){case k.DELETETASKS:j.dispatch(k.deleteTasks(q));break;case k.ARCHIVETASKS:j.dispatch(k.moveTasksToArchive(f)),j.dispatch(k.archiveTasks(q));break;case k.ADDTASK:default:j.dispatch(k.addTask({title:d.newTask})),a.setState({newTask:""})}}},i.createElement("header",{className:"add-item"},i.createElement("h1",{id:"task-list"},i.createElement("a",{href:"/",className:"subtle"},"Todo List")),i.createElement("label",{htmlFor:"new-item"},"Add a New Task"),i.createElement("div",{className:"new-item__bar"},i.createElement("input",{ref:"newItem",value:d.newTask,autoFocus:!0,autoComplete:"off",type:"text",id:"new-item",name:"new-item",placeholder:"Something to do…",onChange:function(b){a.setState({newTask:b.target.value})}}),i.createElement("button",{disabled:!d.newTask.length&&!p.serverSideRendering,type:"submit",formAction:l.ADD_TASK||"/",formMethod:"post",onClick:function(b){a.setState({action:l.ADDTASK})}},"Add Task"))),r,i.createElement("ol",{className:"naked tasks"},t),u,w)))}}]),b}(i.Component);a.exports=q},function(a,b,c){"use strict";if(!d)var d=c(4);var e=(c(10),c(6),c(9),c(22)),f=function(a){var b=a.task;return d.createElement("li",{"data-id":e.serverSideRendering?b.id:void 0},d.createElement("label",{htmlFor:"item_"+b.id},d.createElement("input",{id:"item_"+b.id,name:"item_"+b.id,type:"checkbox",checked:b.completed,onChange:a.onChange})," ",d.createElement("span",{className:"title"},b.title)))};a.exports=f},function(a,b){"use strict";a.exports.serverSideRendering=function(){try{return!(void 0!==document)}catch(a){return!0}}()},function(a,b,c){"use strict";if(!d)var d=c(4);var e=c(9),f=function(a){return d.createElement("div",{className:"task-bar"},d.createElement("button",{type:"submit",disabled:a.disabled,formAction:e.ARCHIVE_COMPLETED_TASKS||"/archive/completed/tasks/",onClick:a.onClick},a.text||"Archive Selected Tasks"))};a.exports=f},function(a,b,c){"use strict";if(!d)var d=c(4);var e=c(9),f=function(a){return d.createElement("div",{className:"task-bar"},d.createElement("button",{type:"submit",disabled:a.disabled,formAction:e.DELETE_TASKS||"/delete/completed/tasks/",onClick:a.onClick},a.text||"Delete Selected Tasks"))};a.exports=f},function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(5);if(!j)var j=c(4);var k=c(10),l=c(6),m=c(9),n=c(21),o=c(24),p=c(20),q=c(22),r=function(a){function b(a){e(this,b);var c=f(this,Object.getPrototypeOf(b).call(this,a));return c.state={action:l.UNARCHIVETASKS},c}return g(b,a),h(b,[{key:"getInitialProps",value:function(){return{showResetSave:!1}}},{key:"fetchData",value:function(){k.dispatch(l.fetchArchiveList())}},{key:"render",value:function(){var a,b=this,c=this.props,e=c.tasks,f=!!c.showLoadAllLink&&j.createElement("span",null,j.createElement("br",null),j.createElement("a",{href:m.ARCHIVED_TASKS,className:"btn"},"Load all archived tasks"),"."),g=this.getCompletedTasks(),h=this.getUncompletedTasks(),p=this.getCompletedTaskIds(g),r=(this.getUncompletedTaskIds(h),!!e.length&&j.createElement("p",null,"The following completed ",e.length>1?"tasks have":"task has"," been archived.",f)),s=e.map(function(a,b){return j.createElement(n,{task:a,key:a.id,onChange:function(b){return k.dispatch(l.toggleArchivedTasksSelected([a.id],b.target.checked))}})}),t=(!!c.showResetSave&&j.createElement("div",null,j.createElement("button",{type:"reset"},"Reset")),e.length?j.createElement("div",null,j.createElement("div",{className:"task-bar"},j.createElement("button",{disabled:!q.serverSideRendering&&!g.length,type:"submit",onClick:function(a){b.setState({action:l.UNARCHIVETASKS})}},g.length>1?"Unarchive Selected Tasks":"Unarchive Selected Task")),j.createElement(o,{text:g.length>1?"Delete Completed Tasks":"Delete Completed Task",disabled:!q.serverSideRendering&&!g.length,onClick:function(a){b.setState({action:l.DELETETASKS})}})):j.createElement("p",null,"There are no archived tasks.")),u=q.serverSideRendering?j.createElement("a",{href:"/",className:"btn"},"Return to Task Manager."):j.createElement(i.Link,{to:"/",className:"btn"},"Return to Task Manager."),v=j.createElement("footer",null,t,j.createElement("div",{className:"balanced task-bar"},u));return j.createElement("main",{id:"task-list",className:"shell shell-task-list"},j.createElement("div",{className:"balanced"},j.createElement("form",(a={action:m.UPDATE_TASKS,method:"post",id:"todo"},d(a,"action","#"),d(a,"method","post"),d(a,"className","box"),d(a,"onSubmit",function(a){switch(a.preventDefault(),b.state.action){case l.UNARCHIVETASKS:k.dispatch(l.moveTasksFromArchive(g)),k.dispatch(l.archiveTasks(p,!1,g));break;case l.DELETETASKS:k.dispatch(l.deleteTasks(p))}}),a),j.createElement("input",{type:"hidden",name:"unarchiveselected",value:"1"}),j.createElement("div",null,j.createElement("header",null,j.createElement("h1",{id:"task-list"},j.createElement("a",{href:"/",className:"subtle"},"Archived Tasks"))),j.createElement("hr",null),r,j.createElement("p",{
className:"accessibly-hidden"},"Check tasks below to unarchive or delete them."),j.createElement("ol",{className:"naked archived tasks"},s),v))))}}]),b}(p);a.exports=r}]);